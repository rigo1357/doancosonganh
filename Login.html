<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>ÄÄƒng nháº­p - PPTLaptop</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="auth.css">
</head>
<body>
  <header class="header">
    <div class="container header-inner">
      <div class="brand">
       <div class="logo" style="padding:0;overflow:hidden;display:flex;align-items:center;justify-content:center">
          <a href="index.html" style="display:block;width:100%;height:100%">
            <img src="Image/Logo.jpg" alt="Logo PPTLaptop" style="width:100%;height:100%;object-fit:contain;" />
          </a>
        </div>
        <div>
          <div class="brand-title">PPTStore</div>
          <div class="brand-sub">Mua laptop - giao táº­n nÆ¡i</div>
        </div>
      </div>

      <nav class="nav">
        <a href="index.html">Trang chá»§</a>
        <a href="products.html">Sáº£n pháº©m</a>
        <a href="contact.html">LiÃªn há»‡</a>
        <a href="Login.html" class="active" id="login-link">ÄÄƒng nháº­p/ÄÄƒng kÃ½</a>
        <span id="user-info" class="user-info"></span>
        <a href="#" id="logout-link" class="logout" style="display:none">ÄÄƒng xuáº¥t</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <div class="auth-container">
      <div class="auth-card">
        <div class="auth-tabs">
          <div class="auth-tab active" id="tab-login" onclick="showTab('login')">ÄÄƒng nháº­p</div>
          <div class="auth-tab" id="tab-register" onclick="showTab('register')">ÄÄƒng kÃ½</div>
        </div>

        <div id="auth-msg"></div>

       <!-- ...existing code... -->
             <!-- Login -->
        <form id="login-form" class="auth-form" novalidate>
          <label for="login-email">Email</label>
          <input id="login-email" type="email" placeholder="email@gmail.com" required />
          <label for="login-password">Máº­t kháº©u</label>
          <input id="login-password" type="password" placeholder="Máº­t kháº©u" required />
          <button type="submit" class="btn">ÄÄƒng nháº­p</button>
          <div style="margin-top:10px;text-align:right">
            <a href="#" id="forgot-password-link" style="font-size:13px;color:#007bff;text-decoration:underline">QuÃªn máº­t kháº©u?</a>
          </div>
        </form>

        <!-- Register -->
<form id="register-form" class="auth-form" style="display:none" novalidate>
  <label for="reg-email">Email</label>
  <input id="reg-email" type="email" placeholder="email@gmail.com" required />

  <label for="reg-password">Máº­t kháº©u</label>
  <input id="reg-password" type="password" placeholder="Máº­t kháº©u (>=6 kÃ½ tá»±)" required />

  <button type="submit" class="btn">ÄÄƒng kÃ½</button>
  <div style="margin:16px 0;text-align:center;">
    <span>Hoáº·c Ä‘Äƒng kÃ½ báº±ng</span>
    <div class="social-group" style="margin-top:8px;display:flex;justify-content:center;gap:12px;">
      <button type="button" class="btn social-btn google-btn" onclick="registerWithGoogle()">
        <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/google/google-original.svg" alt="Google" style="width:18px;vertical-align:middle;margin-right:6px;"> Google
      </button>
      <button type="button" class="btn social-btn facebook-btn" onclick="registerWithFacebook()">
        <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/facebook/facebook-original.svg" alt="Facebook" style="width:18px;vertical-align:middle;margin-right:6px;"> Facebook
      </button>
    </div>
  </div>
</form>

        <!-- OTP -->
        <form id="otp-form" class="auth-form" style="display:none">
          <label for="otp-input">Nháº­p mÃ£ OTP (demo)</label>
          <input id="otp-input" placeholder="MÃ£ 6 chá»¯ sá»‘" required />
          <button type="submit" class="btn">XÃ¡c thá»±c</button>
        </form>
      </div>
    </div>
  </main>

   <footer>
    <div class="footer-main">
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <h6>PPTLaptop</h6>
            <p>Äá»‹a chá»‰: 06 Tráº§n VÄƒn Æ n, PhÃº HoÃ , Thá»§ Dáº§u Má»™t, BÃ¬nh DÆ°Æ¡ng, Viá»‡t Nam</p>
            <p>Hotline: 0971 476 878</p>
            <p>Email: pptlaptop@gmail.com</p>
            <div style="margin-top:8px">
              <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3918.996246850356!2d106.6747335!3d10.979613!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3174d1276f4b7577%3A0x54075879a0f2301!2s06%20Tr%E1%BA%A7n%20V%C4%83n%20%C6%A0n%2C%20Ph%C3%BA%20Ho%C3%A0%2C%20Th%E1%BB%A7%20D%E1%BA%A7u%20M%E1%BB%99t%2C%20B%C3%ACnh%20D%C6%B0%C6%A1ng%2C%20Vi%E1%BB%87t%20Nam!5e0!3m2!1svi!2s!4v1727111111111!5m2!1svi!2s"
                width="250"
                height="180"
                style="border:0;border-radius:8px;"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade">
              </iframe>
            </div>
          </div>
          <div class="footer-section">
            <h6>THÃ”NG TIN CÃ”NG TY</h6>
            <ul>
              <li><a href="#">Giá»›i thiá»‡u cÃ´ng ty</a></li>
              <li><a href="#">Tuyá»ƒn dá»¥ng</a></li>
              <li><a href="tel:0971476878">Gá»­i gÃ³p Ã½, khiáº¿u náº¡i</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h6>CHÃNH SÃCH CÃ”NG TY</h6>
            <ul>
              <li><a href="#">ChÃ­nh sÃ¡ch cháº¥t lÆ°á»£ng</a></li>
              <li><a href="#">ChÃ­nh sÃ¡ch báº£o hÃ nh</a></li>
              <li><a href="#">ChÃ­nh sÃ¡ch Ä‘á»•i tráº£</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      <div class="container">
        <p>&copy; 2025 PPTLaptop. All Rights Reserved</p>
      </div>
    </div>
  </footer>

  <script>
    // --- User store ---
    let users = JSON.parse(localStorage.getItem('users') || '[]');
    if(!users.find(u=>u.email==='admin@gmail.com')){
      users.push({email:'admin@gmail.com', password:'123456'});
      localStorage.setItem('users', JSON.stringify(users));
    }

    // --- Tabs ---
(function () {
    const tLogin = document.getElementById('tab-login');
    const tRegister = document.getElementById('tab-register');
    const fLogin = document.getElementById('login-form');
    const fRegister = document.getElementById('register-form');

    function showLogin() {
      tLogin.classList.add('active');
      tRegister.classList.remove('active');
      fLogin.style.display = '';
      fRegister.style.display = 'none';
    }
    function showRegister() {
      tRegister.classList.add('active');
      tLogin.classList.remove('active');
      fRegister.style.display = '';
      fLogin.style.display = 'none';
    }

    tLogin.addEventListener('click', showLogin);
    tRegister.addEventListener('click', showRegister);

    // prevent default submit for demo (remove in production)
    [fLogin, fRegister].forEach(f => f.addEventListener('submit', e => e.preventDefault()));
  })();

    let pendingUser = null; let otpCode = null;

    // --- Register ---
    document.getElementById('register-form').onsubmit = function(e){
      e.preventDefault();
      const email = document.getElementById('reg-email').value.trim();
      const password = document.getElementById('reg-password').value;
      if(!email || !password) return showMsg('Nháº­p Ä‘áº§y Ä‘á»§ thÃ´ng tin');
      if(password.length < 6) return showMsg('Máº­t kháº©u pháº£i >= 6 kÃ½ tá»±');
      let users = JSON.parse(localStorage.getItem('users') || '[]');
      if(users.find(u=>u.email === email)) return showMsg('Email Ä‘Ã£ Ä‘Äƒng kÃ½');
      otpCode = Math.floor(100000 + Math.random()*900000).toString();
      pendingUser = {email, password};
      showMsg('MÃ£ OTP (demo): <b>'+otpCode+'</b>. Nháº­p vÃ o Ã´ OTP Ä‘á»ƒ xÃ¡c thá»±c.', true);
      document.getElementById('register-form').style.display='none';
      document.getElementById('otp-form').style.display='block';
    };

    // --- OTP ---
    document.getElementById('otp-form').onsubmit = function(e){
      e.preventDefault();
      const v = document.getElementById('otp-input').value.trim();
      if(v !== otpCode) return showMsg('OTP khÃ´ng Ä‘Ãºng');
      let users = JSON.parse(localStorage.getItem('users') || '[]');
      users.push(pendingUser);
      localStorage.setItem('users', JSON.stringify(users));
      showMsg('ÄÄƒng kÃ½ thÃ nh cÃ´ng!', true);
      setTimeout(()=>{ showTab('login'); document.getElementById('otp-form').reset(); }, 1000);
      pendingUser = null; otpCode = null;
    };

    // --- Login ---
    document.getElementById('login-form').onsubmit = function(e){
      e.preventDefault();
      const email = document.getElementById('login-email').value.trim();
      const password = document.getElementById('login-password').value;
      let users = JSON.parse(localStorage.getItem('users') || '[]');
      const user = users.find(u=>u.email===email && u.password===password);
      if(!user) return showMsg('Email hoáº·c máº­t kháº©u khÃ´ng Ä‘Ãºng');
      localStorage.setItem('currentUser', JSON.stringify(user));
      showMsg('ÄÄƒng nháº­p thÃ nh cÃ´ng!', true);
      setTimeout(()=> location.href = 'index.html', 800);
    };

    // --- Hiá»ƒn thá»‹ tráº¡ng thÃ¡i user ---
    function updateHeader(){
      const currentUser = JSON.parse(localStorage.getItem('currentUser') || 'null');
      const loginLink = document.getElementById('login-link');
      const logoutLink = document.getElementById('logout-link');
      const userInfo = document.getElementById('user-info');
      if(currentUser){
        loginLink.style.display = 'none';
        logoutLink.style.display = 'inline-block';
        userInfo.innerText = "ğŸ‘¤ " + currentUser.email;
      } else {
        loginLink.style.display = 'inline-block';
        logoutLink.style.display = 'none';
        userInfo.innerText = "";
      }
    }

    document.getElementById('logout-link').onclick = function(e){
      e.preventDefault();
      localStorage.removeItem('currentUser');
      updateHeader();
      location.href = 'index.html';
    };

    updateHeader();

    // --- Message ---
    function showMsg(msg, success=false){
      document.getElementById('auth-msg').innerHTML = `<div class="${success ? 'auth-success' : 'auth-msg'}">${msg}</div>`;
    }

    // --- ÄÄƒng kÃ½ Google/Facebook (demo) ---
    function registerWithGoogle() {
      showMsg('Chá»©c nÄƒng Ä‘Äƒng kÃ½ báº±ng Google Ä‘ang Ä‘Æ°á»£c phÃ¡t triá»ƒn.', false);
    }
    function registerWithFacebook() {
      showMsg('Chá»©c nÄƒng Ä‘Äƒng kÃ½ báº±ng Facebook Ä‘ang Ä‘Æ°á»£c phÃ¡t triá»ƒn.', false);
    }

    // --- QuÃªn máº­t kháº©u (demo) ---
    document.getElementById('forgot-password-link').onclick = function(e){
      e.preventDefault();
      showMsg('Vui lÃ²ng liÃªn há»‡ admin qua email Ä‘á»ƒ láº¥y láº¡i máº­t kháº©u.', false);
    };

  </script>
</body>
</html>
