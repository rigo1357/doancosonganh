<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>ƒêƒÉng nh·∫≠p - PPTLaptop</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="auth.css">
</head>
<body>
  <header class="header">
    <div class="container header-inner">
      <div class="brand">
       <div class="logo" style="padding:0;overflow:hidden;display:flex;align-items:center;justify-content:center">
          <a href="index.html" style="display:block;width:100%;height:100%">
            <img src="Image/Logo.jpg" alt="Logo PPTLaptop" style="width:100%;height:100%;object-fit:contain;" />
          </a>
        </div>
        <div>
          <div class="brand-title">PPTStore</div>
          <div class="brand-sub">Mua laptop - giao t·∫≠n n∆°i</div>
        </div>
      </div>

      <nav class="nav">
        <a href="index.html">Trang ch·ªß</a>
        <a href="products.html">S·∫£n ph·∫©m</a>
        <a href="contact.html">Li√™n h·ªá</a>
        <a href="Login.html" class="active" id="login-link">ƒêƒÉng nh·∫≠p/ƒêƒÉng k√Ω</a>
        <span id="user-info" class="user-info"></span>
        <a href="#" id="logout-link" class="logout" style="display:none">ƒêƒÉng xu·∫•t</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <div class="auth-container">
      <div class="auth-card">
        <div class="auth-tabs">
          <div class="auth-tab active" id="tab-login" onclick="showTab('login')">ƒêƒÉng nh·∫≠p</div>
          <div class="auth-tab" id="tab-register" onclick="showTab('register')">ƒêƒÉng k√Ω</div>
        </div>

        <div id="auth-msg"></div>

        <!-- Login -->
        <form id="login-form" class="auth-form">
          <label for="login-email">Email</label>
          <input id="login-email" type="email" placeholder="email@gmail.com" required />
          <label for="login-password">M·∫≠t kh·∫©u</label>
          <input id="login-password" type="password" placeholder="M·∫≠t kh·∫©u" required />
          <button type="submit" class="btn">ƒêƒÉng nh·∫≠p</button>
        </form>

        <!-- Register -->
        <form id="register-form" class="auth-form" style="display:none">
          <label for="reg-email">Email</label>
          <input id="reg-email" type="email" placeholder="email@gmail.com" required />
          <label for="reg-password">M·∫≠t kh·∫©u</label>
          <input id="reg-password" type="password" placeholder="M·∫≠t kh·∫©u (>=6 k√Ω t·ª±)" required />
          <button type="submit" class="btn secondary">ƒêƒÉng k√Ω</button>
        </form>

        <!-- OTP -->
        <form id="otp-form" class="auth-form" style="display:none">
          <label for="otp-input">Nh·∫≠p m√£ OTP (demo)</label>
          <input id="otp-input" placeholder="M√£ 6 ch·ªØ s·ªë" required />
          <button type="submit" class="btn">X√°c th·ª±c</button>
        </form>
      </div>
    </div>
  </main>

   <footer>
    <div class="footer-main">
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <h6>PPTLaptop</h6>
            <p>ƒê·ªãa ch·ªâ: 06 Tr·∫ßn VƒÉn ∆†n, Ph√∫ Ho√†, Th·ªß D·∫ßu M·ªôt, B√¨nh D∆∞∆°ng, Vi·ªát Nam</p>
            <p>Hotline: 0971 476 878</p>
            <p>Email: pptlaptop@gmail.com</p>
            <div style="margin-top:8px">
              <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3918.996246850356!2d106.6747335!3d10.979613!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3174d1276f4b7577%3A0x54075879a0f2301!2s06%20Tr%E1%BA%A7n%20V%C4%83n%20%C6%A0n%2C%20Ph%C3%BA%20Ho%C3%A0%2C%20Th%E1%BB%A7%20D%E1%BA%A7u%20M%E1%BB%99t%2C%20B%C3%ACnh%20D%C6%B0%C6%A1ng%2C%20Vi%E1%BB%87t%20Nam!5e0!3m2!1svi!2s!4v1727111111111!5m2!1svi!2s"
                width="250"
                height="180"
                style="border:0;border-radius:8px;"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade">
              </iframe>
            </div>
          </div>
          <div class="footer-section">
            <h6>TH√îNG TIN C√îNG TY</h6>
            <ul>
              <li><a href="#">Gi·ªõi thi·ªáu c√¥ng ty</a></li>
              <li><a href="#">Tuy·ªÉn d·ª•ng</a></li>
              <li><a href="tel:0971476878">G·ª≠i g√≥p √Ω, khi·∫øu n·∫°i</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h6>CH√çNH S√ÅCH C√îNG TY</h6>
            <ul>
              <li><a href="#">Ch√≠nh s√°ch ch·∫•t l∆∞·ª£ng</a></li>
              <li><a href="#">Ch√≠nh s√°ch b·∫£o h√†nh</a></li>
              <li><a href="#">Ch√≠nh s√°ch ƒë·ªïi tr·∫£</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      <div class="container">
        <p>&copy; 2025 PPTLaptop. All Rights Reserved</p>
      </div>
    </div>
  </footer>

  <script>
    // --- User store ---
    let users = JSON.parse(localStorage.getItem('users') || '[]');
    if(!users.find(u=>u.email==='admin@gmail.com')){
      users.push({email:'admin@gmail.com', password:'123456'});
      localStorage.setItem('users', JSON.stringify(users));
    }

    // --- Tabs ---
    function showTab(t){
      document.getElementById('tab-login').classList.toggle('active', t==='login');
      document.getElementById('tab-register').classList.toggle('active', t==='register');
      document.getElementById('login-form').style.display = t==='login' ? 'block' : 'none';
      document.getElementById('register-form').style.display = t==='register' ? 'block' : 'none';
      document.getElementById('otp-form').style.display = 'none';
      document.getElementById('auth-msg').innerHTML = '';
    }

    let pendingUser = null; let otpCode = null;

    // --- Register ---
    document.getElementById('register-form').onsubmit = function(e){
      e.preventDefault();
      const email = document.getElementById('reg-email').value.trim();
      const password = document.getElementById('reg-password').value;
      if(!email || !password) return showMsg('Nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin');
      if(password.length < 6) return showMsg('M·∫≠t kh·∫©u ph·∫£i >= 6 k√Ω t·ª±');
      let users = JSON.parse(localStorage.getItem('users') || '[]');
      if(users.find(u=>u.email === email)) return showMsg('Email ƒë√£ ƒëƒÉng k√Ω');
      otpCode = Math.floor(100000 + Math.random()*900000).toString();
      pendingUser = {email, password};
      showMsg('M√£ OTP (demo): <b>'+otpCode+'</b>. Nh·∫≠p v√†o √¥ OTP ƒë·ªÉ x√°c th·ª±c.', true);
      document.getElementById('register-form').style.display='none';
      document.getElementById('otp-form').style.display='block';
    };

    // --- OTP ---
    document.getElementById('otp-form').onsubmit = function(e){
      e.preventDefault();
      const v = document.getElementById('otp-input').value.trim();
      if(v !== otpCode) return showMsg('OTP kh√¥ng ƒë√∫ng');
      let users = JSON.parse(localStorage.getItem('users') || '[]');
      users.push(pendingUser);
      localStorage.setItem('users', JSON.stringify(users));
      showMsg('ƒêƒÉng k√Ω th√†nh c√¥ng!', true);
      setTimeout(()=>{ showTab('login'); document.getElementById('otp-form').reset(); }, 1000);
      pendingUser = null; otpCode = null;
    };

    // --- Login ---
    document.getElementById('login-form').onsubmit = function(e){
      e.preventDefault();
      const email = document.getElementById('login-email').value.trim();
      const password = document.getElementById('login-password').value;
      let users = JSON.parse(localStorage.getItem('users') || '[]');
      const user = users.find(u=>u.email===email && u.password===password);
      if(!user) return showMsg('Email ho·∫∑c m·∫≠t kh·∫©u kh√¥ng ƒë√∫ng');
      localStorage.setItem('currentUser', JSON.stringify(user));
      showMsg('ƒêƒÉng nh·∫≠p th√†nh c√¥ng!', true);
      setTimeout(()=> location.href = 'index.html', 800);
    };

    // --- Hi·ªÉn th·ªã tr·∫°ng th√°i user ---
    function updateHeader(){
      const currentUser = JSON.parse(localStorage.getItem('currentUser') || 'null');
      const loginLink = document.getElementById('login-link');
      const logoutLink = document.getElementById('logout-link');
      const userInfo = document.getElementById('user-info');
      if(currentUser){
        loginLink.style.display = 'none';
        logoutLink.style.display = 'inline-block';
        userInfo.innerText = "üë§ " + currentUser.email;
      } else {
        loginLink.style.display = 'inline-block';
        logoutLink.style.display = 'none';
        userInfo.innerText = "";
      }
    }

    document.getElementById('logout-link').onclick = function(e){
      e.preventDefault();
      localStorage.removeItem('currentUser');
      updateHeader();
      location.href = 'index.html';
    };

    updateHeader();

    // --- Message ---
    function showMsg(msg, success=false){
      document.getElementById('auth-msg').innerHTML = `<div class="${success ? 'auth-success' : 'auth-msg'}">${msg}</div>`;
    }
  </script>
</body>
</html>
